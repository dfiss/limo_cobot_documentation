"use strict";(self.webpackChunklimo_cobot_documentation=self.webpackChunklimo_cobot_documentation||[]).push([[9604],{76718:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>x,frontMatter:()=>l,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"advanced-usage/waypoint-management","title":"\ud83d\udccd Advanced Usage \u2014 Waypoint Management","description":"This section explains how to add, modify, optimize, and dynamically update waypoints for your LIMO\'s exploration routes while keeping the detection\u2013pick\u2013drop logic intact.","source":"@site/docs/advanced-usage/waypoint-management.md","sourceDirName":"advanced-usage","slug":"/advanced-usage/waypoint-management","permalink":"/limo_cobot_documentation/docs/advanced-usage/waypoint-management","draft":false,"unlisted":false,"editUrl":"https://github.com/krish-rRay23/limo_cobot_documentation/tree/main/docs/advanced-usage/waypoint-management.md","tags":[],"version":"current","lastUpdatedBy":"Krish Ray","lastUpdatedAt":1754645088000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"\ud83c\udfaf Advanced Usage \u2014 Custom Objects","permalink":"/limo_cobot_documentation/docs/advanced-usage/custom-objects"},"next":{"title":"\ud83d\udee0 Advanced Usage \u2014 Hardware Upgrades","permalink":"/limo_cobot_documentation/docs/advanced-usage/hardware-upgrades"}}');var a=i(74848),t=i(28453),o=i(11470),r=i(19365),d=i(27293);const l={sidebar_position:3},c="\ud83d\udccd Advanced Usage \u2014 Waypoint Management",h={},p=[{value:"\ud83d\uddc2 Current Waypoint Structure",id:"-current-waypoint-structure",level:2},{value:"\u2795 Adding New Waypoints",id:"-adding-new-waypoints",level:2},{value:"1. Find Coordinates in RViz",id:"1-find-coordinates-in-rviz",level:3},{value:"2. Add to the List",id:"2-add-to-the-list",level:3},{value:"3. Rebuild Workspace",id:"3-rebuild-workspace",level:3},{value:"4. Test in Simulation or Small Area",id:"4-test-in-simulation-or-small-area",level:3},{value:"\u270f\ufe0f Modifying Existing Routes",id:"\ufe0f-modifying-existing-routes",level:2},{value:"\u26a1 Waypoint Optimization",id:"-waypoint-optimization",level:2},{value:"Reduce Travel Time:",id:"reduce-travel-time",level:3},{value:"Improve Coverage:",id:"improve-coverage",level:3},{value:"Include Rotation Angles:",id:"include-rotation-angles",level:3},{value:"\ud83d\udd04 Dynamic Waypoint Updates",id:"-dynamic-waypoint-updates",level:2},{value:"\u2705 Success Indicators",id:"-success-indicators",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"-advanced-usage--waypoint-management",children:"\ud83d\udccd Advanced Usage \u2014 Waypoint Management"})}),"\n",(0,a.jsxs)(n.p,{children:["This section explains how to ",(0,a.jsx)(n.strong,{children:"add, modify, optimize, and dynamically update waypoints"})," for your LIMO's exploration routes while keeping the detection\u2013pick\u2013drop logic intact."]}),"\n","\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-current-waypoint-structure",children:"\ud83d\uddc2 Current Waypoint Structure"}),"\n",(0,a.jsxs)(n.p,{children:["Your ",(0,a.jsx)(n.code,{children:"mission_manager.py"})," stores waypoints as:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"WAYPOINTS = [\r\n    (0.37247, -0.10103, -13.26),\r\n    (1.05778, -0.28532, -13.34),\r\n    (1.71948, -0.40092, -11.97),\r\n    (2.63431, -0.54106, 7.45),\r\n    (3.70974, -0.48306, -12.09),\r\n    (3.96764, -0.49506, -44.46)\r\n]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Each waypoint is a tuple:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"(x_position, y_position, yaw_degrees)\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-adding-new-waypoints",children:"\u2795 Adding New Waypoints"}),"\n",(0,a.jsx)(n.h3,{id:"1-find-coordinates-in-rviz",children:"1. Find Coordinates in RViz"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Click ",(0,a.jsx)(n.strong,{children:"2D Nav Goal"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Read ",(0,a.jsx)(n.code,{children:"/amcl_pose"}),":"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 topic echo /amcl_pose\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Note ",(0,a.jsx)(n.code,{children:"x"}),", ",(0,a.jsx)(n.code,{children:"y"}),", and convert quaternion to yaw (in degrees)."]}),"\n",(0,a.jsx)(n.h3,{id:"2-add-to-the-list",children:"2. Add to the List"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"WAYPOINTS.append((new_x, new_y, new_yaw))\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-rebuild-workspace",children:"3. Rebuild Workspace"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"colcon build --packages-select nav_handler\r\nsource install/setup.bash\n"})}),"\n",(0,a.jsx)(n.h3,{id:"4-test-in-simulation-or-small-area",children:"4. Test in Simulation or Small Area"}),"\n",(0,a.jsxs)(n.p,{children:["Run ",(0,a.jsx)(n.code,{children:"full_system.launch.py"})," and ensure robot visits the new point in order."]}),"\n",(0,a.jsx)(d.A,{type:"tip",title:"Best Practice",children:(0,a.jsxs)(n.p,{children:["Place new waypoints so the robot can ",(0,a.jsx)(n.strong,{children:"rotate and scan"})," without colliding with obstacles."]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"\ufe0f-modifying-existing-routes",children:"\u270f\ufe0f Modifying Existing Routes"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Simply change ",(0,a.jsx)(n.code,{children:"x"}),", ",(0,a.jsx)(n.code,{children:"y"}),", ",(0,a.jsx)(n.code,{children:"yaw"})," in the ",(0,a.jsx)(n.code,{children:"WAYPOINTS"})," list."]}),"\n",(0,a.jsx)(n.li,{children:"Keep sequential flow logical (avoid sharp backtracking)."}),"\n",(0,a.jsx)(n.li,{children:"If you want to skip certain points temporarily:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"WAYPOINTS = WAYPOINTS[:3]  # Only first 3 waypoints\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-waypoint-optimization",children:"\u26a1 Waypoint Optimization"}),"\n",(0,a.jsx)(n.h3,{id:"reduce-travel-time",children:"Reduce Travel Time:"}),"\n",(0,a.jsx)(n.p,{children:"Order points to minimize path length (use TSP solver if many points)."}),"\n",(0,a.jsx)(n.h3,{id:"improve-coverage",children:"Improve Coverage:"}),"\n",(0,a.jsx)(n.p,{children:"Ensure scanning arcs overlap slightly so no blind zones remain."}),"\n",(0,a.jsx)(n.h3,{id:"include-rotation-angles",children:"Include Rotation Angles:"}),"\n",(0,a.jsx)(n.p,{children:"Choose yaw so the camera faces open space for best object detection."}),"\n",(0,a.jsx)(n.p,{children:"Example optimized layout:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"WAYPOINTS = [\r\n    (-0.78, -0.23, 7.9),\r\n    (-0.49, 0.00, -33.3),\r\n    (-0.22, -0.15, -55.0),\r\n    (0.15, -0.62, -29.2),\r\n    (1.31, -0.65, -9.5),\r\n    (2.20, -0.61, 2.0),\r\n    (3.71, -0.53, -3.5)\r\n]\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-dynamic-waypoint-updates",children:"\ud83d\udd04 Dynamic Waypoint Updates"}),"\n",(0,a.jsx)(n.p,{children:"You can update waypoints on the fly without restarting the system:"}),"\n",(0,a.jsxs)(o.A,{children:[(0,a.jsx)(r.A,{value:"service",label:"1. Using a ROS 2 Service",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Create a service ",(0,a.jsx)(n.code,{children:"/update_waypoints"})," that updates the ",(0,a.jsx)(n.code,{children:"WAYPOINTS"})," list in ",(0,a.jsx)(n.code,{children:"mission_manager"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"Call service from terminal or another node."}),"\n"]})}),(0,a.jsx)(r.A,{value:"topic",label:"2. Using a Topic",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Subscribe to ",(0,a.jsx)(n.code,{children:"/waypoint_update"})," in ",(0,a.jsx)(n.code,{children:"mission_manager.py"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"Publish a list of waypoints during runtime to override current path."}),"\n"]})})]}),"\n",(0,a.jsx)(d.A,{type:"info",title:"Important",children:(0,a.jsxs)(n.p,{children:["Dynamic updates will only take effect when the robot is in ",(0,a.jsx)(n.strong,{children:"IDLE"})," or after completing its current navigation goal. Object detection interruptions still override waypoints immediately."]})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"-success-indicators",children:"\u2705 Success Indicators"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Robot visits all intended waypoints in order."}),"\n",(0,a.jsx)(n.li,{children:"No collision warnings in Nav2 logs."}),"\n",(0,a.jsx)(n.li,{children:"Scanning occurs at each waypoint."}),"\n",(0,a.jsx)(n.li,{children:"Detection interruptions still trigger correct pick\u2013drop sequence."}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Next: \u2699\ufe0f Hardware Upgrades & Integrations"})})]})}function x(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);