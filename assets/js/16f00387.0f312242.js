"use strict";(self.webpackChunklimo_cobot_documentation=self.webpackChunklimo_cobot_documentation||[]).push([[5244],{6156:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>x});const i=JSON.parse('{"id":"developer/code-style","title":"\u270f\ufe0f Code Style & Standards","description":"Consistent code style ensures that the LIMO Pro + MyCobot + YOLO project remains readable, maintainable, and safe.","source":"@site/docs/developer/code-style.md","sourceDirName":"developer","slug":"/developer/code-style","permalink":"/limo_cobot_documentation/docs/developer/code-style","draft":false,"unlisted":false,"editUrl":"https://github.com/krish-rRay23/limo_cobot_documentation/tree/main/docs/developer/code-style.md","tags":[],"version":"current","lastUpdatedBy":"Krish Ray","lastUpdatedAt":1754645088000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udee0\ufe0f Contributing to LIMO Cobot","permalink":"/limo_cobot_documentation/docs/developer/contributing"},"next":{"title":"\ud83c\udd95 Adding New Nodes & Packages","permalink":"/limo_cobot_documentation/docs/developer/adding-nodes"}}');var r=s(74848),t=s(28453),l=s(27293),o=s(11470),d=s(19365);const c={sidebar_position:2},a="\u270f\ufe0f Code Style & Standards",h={},x=[{value:"\ud83d\udcd0 Style &amp; Formatting",id:"-style--formatting",level:2},{value:"\ud83d\udcc4 Documentation Requirements",id:"-documentation-requirements",level:2},{value:"\ud83e\uddea Testing Guidelines",id:"-testing-guidelines",level:2},{value:"\ud83d\udca1 Best Practices",id:"-best-practices",level:2},{value:"\u2705 Pre-Merge Checklist",id:"-pre-merge-checklist",level:2}];function j(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\ufe0f-code-style--standards",children:"\u270f\ufe0f Code Style & Standards"})}),"\n",(0,r.jsxs)(n.p,{children:["Consistent code style ensures that the ",(0,r.jsx)(n.strong,{children:"LIMO Pro + MyCobot + YOLO"})," project remains ",(0,r.jsx)(n.strong,{children:"readable, maintainable, and safe"}),".",(0,r.jsx)(n.br,{}),"\n","This guide defines ",(0,r.jsx)(n.strong,{children:"standards, documentation rules, testing requirements, and best practices"}),"."]}),"\n","\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-style--formatting",children:"\ud83d\udcd0 Style & Formatting"}),"\n",(0,r.jsxs)(n.p,{children:["We follow ",(0,r.jsx)(n.strong,{children:"PEP 8"})," for Python with a few ROS2-specific conventions:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"4-space indentation"})," (no tabs)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Snake_case"})," for variables/functions: ",(0,r.jsx)(n.code,{children:"object_detected"}),", ",(0,r.jsx)(n.code,{children:"navigate_to_pose_msg()"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PascalCase"})," for class names: ",(0,r.jsx)(n.code,{children:"PickNode"}),", ",(0,r.jsx)(n.code,{children:"ExplorationNode"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ALL_CAPS"})," for constants: ",(0,r.jsx)(n.code,{children:"WAYPOINTS"}),", ",(0,r.jsx)(n.code,{children:"PICK_TIMEOUT"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Imports grouped: standard libs \u2192 ROS2 \u2192 project modules."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# \u2705 Example\r\nimport math\r\nimport time\r\n\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nfrom .utils import quat_from_yaw\n"})}),"\n",(0,r.jsx)(l.A,{type:"danger",title:"Avoid",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Long functions (>50 lines) \u2014 split into smaller methods."}),"\n",(0,r.jsx)(n.li,{children:"Magic numbers \u2014 use constants or parameters."}),"\n",(0,r.jsx)(n.li,{children:"Hardcoded paths \u2014 pass via ROS2 parameters."}),"\n"]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-documentation-requirements",children:"\ud83d\udcc4 Documentation Requirements"}),"\n",(0,r.jsx)(n.p,{children:"Every node, class, and function must have docstrings explaining its purpose."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class PickNode(Node):\r\n    """\r\n    Controls the MyCobot arm to pick an object.\r\n\r\n    Sequence:\r\n    1. Open gripper\r\n    2. Move to center\r\n    3. Move to pickup pose\r\n    4. Close gripper\r\n    5. Return to center\r\n    """\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use inline comments to explain non-obvious math (e.g., yaw calculations, TF transforms)."}),"\n",(0,r.jsxs)(n.li,{children:["In launch files, comment why a delay exists (",(0,r.jsx)(n.code,{children:"TimerAction"}),"), not just the value."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-testing-guidelines",children:"\ud83e\uddea Testing Guidelines"}),"\n",(0,r.jsxs)(o.A,{children:[(0,r.jsx)(d.A,{value:"unit",label:"Unit Tests",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Test individual functions (e.g., ",(0,r.jsx)(n.code,{children:"quat_from_yaw()"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Mock ROS2 publishers/subscribers when possible."}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"pytest"})," for automated testing."]}),"\n"]})}),(0,r.jsx)(d.A,{value:"integration",label:"Integration Tests",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"colcon build && colcon test"})," before merging."]}),"\n",(0,r.jsxs)(n.li,{children:["Test end-to-end:","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Start ",(0,r.jsx)(n.code,{children:"full_system.launch.py"})]}),"\n",(0,r.jsxs)(n.li,{children:["Verify YOLO detects in ",(0,r.jsx)(n.code,{children:"/yolo/annotated"})]}),"\n",(0,r.jsxs)(n.li,{children:["Confirm ",(0,r.jsx)(n.code,{children:"/target_pose"})," triggers navigation."]}),"\n"]}),"\n"]}),"\n"]})}),(0,r.jsx)(d.A,{value:"hardware",label:"Hardware Tests",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Test arm motions with clear workspace to prevent collisions."}),"\n",(0,r.jsx)(n.li,{children:"For navigation, run in a safe, obstacle-free area first."}),"\n"]})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-best-practices",children:"\ud83d\udca1 Best Practices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fail safely"})," \u2014 if a node crashes, it should not leave motors running."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Voice feedback"})," for key states (pick complete, drop complete, navigation start)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use ROS2 parameters"})," instead of editing code for configuration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Log at appropriate levels:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"self.get_logger().info()"})," \u2192 normal operation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"self.get_logger().warn()"})," \u2192 recoverable issue"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"self.get_logger().error()"})," \u2192 critical failure"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep launch dependencies modular"})," \u2014 avoid one giant launch file for everything."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"-pre-merge-checklist",children:"\u2705 Pre-Merge Checklist"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u2610 Code builds with ",(0,r.jsx)(n.code,{children:"colcon build --symlink-install"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u2610 No PEP8 violations (",(0,r.jsx)(n.code,{children:"flake8"})," clean)"]}),"\n",(0,r.jsx)(n.li,{children:"\u2610 All tests pass"}),"\n",(0,r.jsx)(n.li,{children:"\u2610 Code reviewed by at least one other contributor"}),"\n",(0,r.jsxs)(n.li,{children:["\u2610 No debug prints left (",(0,r.jsx)(n.code,{children:"print()"})," \u2192 use logger)"]}),"\n"]}),"\n",(0,r.jsx)(l.A,{type:"tip",title:"Pro Tip",children:(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"black . && isort ."})," before committing to auto-format your Python code."]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Next: Testing Framework"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}}}]);